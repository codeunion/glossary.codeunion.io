---
---

In the context of web development, _routing_ describes the process by which
a web application receives a request from a browser and decides which code it
must run in order to generate an appropriate response.  Whether implemented by
hand or with the help of a library/framework, this process lies at the heart of
_every_ web application.

How this works specifically depends on the particular programming languages and
libraries used, but the core idea is the same.  The browser sends a request to
our web application which looks at the request data, _routes_ it to the
appropriate chunk of code, and calls that chunk of code to generate a response
for the browser.  This means any routing system will need to express a few key ideas:

1. How do we match against the various parts of an incoming request?
2. How do we specify which code we should call when we find a match?
3. How does the code-to-be-called generate a response?

## In Sinatra

Keeping the above key ideas in mind, here's a specific example using
[Sinatra](http://www.sinatrarb.com/) (a web framework for Ruby):

```ruby
require "sinatra"  # Load the Sinatra web framework

get("/hello") do
  body("<p>Hello, world!</p>")
end

post("/hello") do
  body("<p>Oh, a POST request!</p>")
end
```

In the above application we're specifying two possible "routing matches" and
the code to be run when a match occurs.  The code-to-be-run is defined by the
`do ... end` blocks.  **Remember**, this is specific to Sinatra and other
frameworks will implement routing differently.

Let's answer the general questions from above using this example.

1.  How do we match against the various parts of an incoming request?

    We're matching against two parts of the request data:

    1. The request _type_ (i.e., `GET`, `POST`, `DELETE`, etc.)
    2. The request _path_

    Given a URL like <http://coolsite.biz/fancy/pants>, the _path_ is everything
    in the URL after the name of the server (`/fancy/pants` in this case).

    `get("/hello")` matches any `GET` request for a URL with the path `/hello`.
    `post("/hello")` matches any `POST` request for a URL with the path
    `/hello`.

2.  How do we specify which code we should call when we find a match?

    We specify the code-to-be-called with a `do ... end` block.  In the route

    ```ruby
    get("/hello") do
      body("<p>Hello, world!</p>")
    end
    ```

    the code-to-be-called is everything after the `do` keyword and before the
    corresponding `end` keyword.

3.  How does the code-to-be-called generate a response?

    We generate a response by calling the `body` method and passing it a
    `String` containing the HTML we want the browser to render.  Sinatra will
    generate the other parts of the request for us and send everything back
    to the requesting browser.
